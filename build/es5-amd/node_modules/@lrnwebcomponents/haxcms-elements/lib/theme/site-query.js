define(["exports","../../../../@polymer/polymer/polymer-element.js","../haxcms-site-store.js","../../../../@polymer/iron-list/iron-list.js","../../../../mobx/lib/mobx.module.js"],function(_exports,_polymerElement,_haxcmsSiteStore,_ironList,_mobxModule){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.SiteQuery=void 0;function _templateObject_48f001b045d511e99c61e9e31056ace4(){var data=babelHelpers.taggedTemplateLiteral(["\n      <style>\n        :host {\n          display: block;\n        }\n        iron-list {\n          @apply --site-query-iron-list;\n        }\n      </style>\n      <iron-list items=\"[[localItems]]\" as=\"item\" grid=\"[[grid]]\">\n        <slot></slot>\n      </iron-list>\n    "]);_templateObject_48f001b045d511e99c61e9e31056ace4=function(){return data};return data}var SiteQuery=function(_PolymerElement){babelHelpers.inherits(SiteQuery,_PolymerElement);function SiteQuery(){babelHelpers.classCallCheck(this,SiteQuery);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(SiteQuery).apply(this,arguments))}babelHelpers.createClass(SiteQuery,[{key:"_computeLocalItems",value:function _computeLocalItems(conditions,sorts,realItems,activeId){var items=Object.assign([],(0,_mobxModule.toJS)(realItems));if(conditions&&items){for(var i in conditions){items=items.filter(function(item){if("$activeId"===conditions[i]){if(item[i]!==activeId){return!1}return!0}else{if(item[i]!==conditions[i]){return!1}return!0}})}}if(sorts){for(var i in sorts){items.sort(function(item1,item2){if("ASC"===sorts[i]){if(item1[i]<item2[i]){return-1}else if(item1[i]>item2[i]){return 1}else{return 0}}else{if(item1[i]>item2[i]){return-1}else if(item1[i]<item2[i]){return 1}else{return 0}}})}}return items}},{key:"connectedCallback",value:function connectedCallback(){var _this=this;babelHelpers.get(babelHelpers.getPrototypeOf(SiteQuery.prototype),"connectedCallback",this).call(this);this.__disposer=(0,_mobxModule.autorun)(function(){_this.routerManifest=Object.assign({},(0,_mobxModule.toJS)(_haxcmsSiteStore.store.routerManifest))});this.__disposer=(0,_mobxModule.autorun)(function(){_this.activeId=(0,_mobxModule.toJS)(_haxcmsSiteStore.store.activeId)})}},{key:"disconnectedCallback",value:function disconnectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(SiteQuery.prototype),"disconnectedCallback",this).call(this);this.__disposer()}}],[{key:"tag",get:function get(){return"site-query"}},{key:"template",get:function get(){return(0,_polymerElement.html)(_templateObject_48f001b045d511e99c61e9e31056ace4())}},{key:"properties",get:function get(){return{routerManifest:{type:Object},activeId:{type:String},localItems:{type:Array,computed:"_computeLocalItems(conditions, sort, routerManifest.items, activeId, forceRebuild)"},conditions:{type:Object,value:{}},sort:{type:Object,value:{}},forceRebuild:{type:Boolean,value:!1},grid:{type:Boolean,value:!1}}}}]);return SiteQuery}(_polymerElement.PolymerElement);_exports.SiteQuery=SiteQuery;window.customElements.define(SiteQuery.tag,SiteQuery)});