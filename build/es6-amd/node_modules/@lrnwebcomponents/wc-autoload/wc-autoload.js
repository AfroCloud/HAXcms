define(["exports","../dynamic-import-registry/dynamic-import-registry.js"],(function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WcAutoload=void 0,
/**
   * Copyright 2020 The Pennsylvania State University
   * @license Apache-2.0, see License.md for full text.
   */
window.WCAutoload=window.WCAutoload||{},window.WCAutoload.requestAvailability=()=>(window.WCAutoload.instance||(window.WCAutoload.instance=document.createElement("wc-autoload"),document.body.appendChild(window.WCAutoload.instance)),window.WCAutoload.instance),window.addEventListener("load",t=>{let e=window.WCAutoload.requestAvailability();if(window.WCAutoloadBasePath&&(e.registry.basePath=window.WCAutoloadBasePath),window.WCAutoloadRegistry)for(var o in window.WCAutoloadRegistry)e.registry.register({tag:o,path:window.WCAutoloadRegistry[o]});document.querySelectorAll(":not(:defined)").forEach((t,o)=>{e.processNewElement(t)})});class WcAutoload extends HTMLElement{static get tag(){return"wc-autoload"}constructor(){super(),this.registry=window.DynamicImportRegistry.requestAvailability()}connectedCallback(){this._mutationObserver=new MutationObserver(t=>{t.forEach(t=>{t.addedNodes.forEach(t=>{t.tagName&&this.processNewElement(t)})})}),this._mutationObserver.observe(document.querySelector("body"),{childList:!0,subtree:!0})}disconnectedCallback(){this._mutationObserver.disconnect()}processNewElement(t){this.registry.loadDefinition(t.tagName)}}t.WcAutoload=WcAutoload,window.customElements.define(WcAutoload.tag,WcAutoload)}));